(function(){"use strict";var t={2451:function(t,e,n){n.r(e),n.d(e,{default:function(){return I}});var a=n(3396),i=n(9242),l=n(7139);const r={class:"main"},o=(0,a._)("h3",null,"WALLET APP",-1),s={key:0,class:"form"},c=(0,a._)("br",null,null,-1),u=(0,a._)("br",null,null,-1),d={key:1},p={key:0,class:"add-transaction"},h=(0,a._)("h2",null,"Add transaction",-1),w=(0,a._)("option",{value:"credit"},"Credit",-1),m=(0,a._)("option",{value:"debit"},"Debit",-1),g=[w,m],f=(0,a._)("br",null,null,-1),y=(0,a._)("br",null,null,-1),b={key:2};function _(t,e,n,w,m,_){const v=(0,a.up)("router-link"),k=(0,a.up)("transaction-view");return(0,a.wg)(),(0,a.iD)("div",r,[o,m.wallet.length||m.isInitialized?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("form",s,[(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":e[0]||(e[0]=t=>m.username=t),type:"text",name:"name",placeholder:"Enter Username",required:""},null,512),[[i.nr,m.username]]),c,(0,a.wy)((0,a._)("input",{class:"input","onUpdate:modelValue":e[1]||(e[1]=t=>m.initialBalance=t),type:"number",name:"initialBalance",placeholder:"Initial Balance"},null,512),[[i.nr,m.initialBalance]]),u,(0,a._)("button",{class:"submit-button",onClick:e[2]||(e[2]=(...t)=>_.initializeWallet&&_.initializeWallet(...t))},"Create Wallet")])),m.wallet&&!m.toggle?((0,a.wg)(),(0,a.iD)("div",d,[m.isInitialized?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("h2",null,"Username: "+(0,l.zw)(m.wallet.username),1),(0,a._)("h2",null,"Wallet Balance: "+(0,l.zw)(m.wallet.balance),1),h,(0,a.wy)((0,a._)("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=t=>m.amount=t),placeholder:"Amount",class:"amount",required:""},null,512),[[i.nr,m.amount]]),(0,a.Uk)("   "),(0,a.wy)((0,a._)("select",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.type=e),required:""},g,512),[[i.bM,t.type]]),(0,a.Uk)("   "),f,y,(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>m.description=t),placeholder:"Description",class:"description",required:""},null,512),[[i.nr,m.description]]),(0,a.Uk)("   "),(0,a._)("button",{onClick:e[6]||(e[6]=(...t)=>_.addTransaction&&_.addTransaction(...t))},"Submit Transaction")])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),m.isInitialized?((0,a.wg)(),(0,a.iD)("div",b,[(0,a.Wm)(v,{to:"/",onClick:e[7]||(e[7]=t=>m.toggle=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)("Home")])),_:1}),(0,a.Uk)(" | "),(0,a.Wm)(v,{to:"/transactions",onClick:e[8]||(e[8]=t=>_.getAllTransactions())},{default:(0,a.w5)((()=>[(0,a.Uk)("Show Transactions")])),_:1}),m.toggle?((0,a.wg)(),(0,a.j4)(k,{key:0,transactions:m.transactions},null,8,["transactions"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0)])}var v=n(7247),k=n(2569),P={name:"App",components:{TransactionView:k.Z},data(){return{username:"",initialBalance:0,amount:0,wallet:{},transactions:{},description:"",toggle:!1,isInitialized:!1}},async mounted(){this.wallet.id=localStorage.getItem("walletId"),this.wallet.id&&(this.isInitialized=!0,await this.getWalletData(this.wallet.id))},methods:{async initializeWallet(){this.wallet={username:this.username,balance:this.initialBalance},await this.createWallet()},async createWallet(){const t=await v.Z.post("api/setup/",{name:this.wallet.username,balance:this.wallet.balance});this.wallet.id=t.data._id,localStorage.setItem("walletId",this.wallet.id),this.isInitialized=!0},async addTransaction(){const t={walletId:this.wallet.id||localStorage.getItem("walletId"),amount:this.amount,description:this.description,type:this.type},e=await v.Z.post(`/api/transact/${t.walletId}`,{amount:t.amount,description:t.description,type:t.type});this.wallet.balance=e.data.balance,this.amount=null,this.description=""},async getAllTransactions(){const t=await v.Z.get(`/api/transactions/${this.wallet.id}`);this.transactions=t.data,this.toggle=!0},async getWalletData(t){const e=await v.Z.get(`/api/wallet/${t}`);this.wallet.username=e.data.name,this.wallet.balance=e.data.balance}}},D=n(89);const T=(0,D.Z)(P,[["render",_]]);var I=T},2569:function(t,e,n){n.d(e,{Z:function(){return g}});var a=n(3396),i=n(7139);const l=(0,a._)("h1",null,"Transactions",-1),r=(0,a._)("th",null,"Transaction ID",-1),o=(0,a._)("th",null,"Wallet ID",-1),s=(0,a._)("th",null,"Balance",-1),c=(0,a._)("th",null,"Description",-1),u=(0,a._)("th",null,"Type",-1),d={class:"pagination"};function p(t,e,n,p,h,w){return(0,a.wg)(),(0,a.iD)("div",null,[l,(0,a._)("table",null,[(0,a._)("thead",null,[(0,a._)("tr",null,[r,o,(0,a._)("th",{onClick:e[0]||(e[0]=t=>w.sortBy("amount"))},"Amount"),s,c,(0,a._)("th",{onClick:e[1]||(e[1]=t=>w.sortBy("date"))},"Date"),u])]),(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.transactions.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage),(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t._id},[(0,a._)("td",null,(0,i.zw)(t._id),1),(0,a._)("td",null,(0,i.zw)(t.walletId),1),(0,a._)("td",null,(0,i.zw)(t.amount),1),(0,a._)("td",null,(0,i.zw)(t.balance),1),(0,a._)("td",null,(0,i.zw)(t.description),1),(0,a._)("td",null,(0,i.zw)(t.date),1),(0,a._)("td",null,(0,i.zw)(t.type),1)])))),128))])]),(0,a._)("button",{onClick:e[2]||(e[2]=(...t)=>w.exportCSV&&w.exportCSV(...t))},"Export Transactions"),(0,a._)("div",d,[(0,a._)("button",{onClick:e[3]||(e[3]=(...t)=>w.previousPage&&w.previousPage(...t))},"Previous"),(0,a._)("span",null,(0,i.zw)(h.currentPage),1),(0,a._)("button",{onClick:e[4]||(e[4]=(...t)=>w.nextPage&&w.nextPage(...t))},"Next")])])}n(2062);var h={name:"transaction-view",props:{transactions:{type:Object,default:()=>{}}},data(){return{currentPage:1,perPage:10,totalTransactions:0}},methods:{exportCSV(){const t=["Transaction ID,Wallet ID,Amount,Balance,Description,Date,Type",...this.transactions.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage).map((t=>`${t._id},${t.walletId},${t.amount},${t.balance},${t.description},${t.date},${t.type}`))].join("\n"),e=new Blob([t],{type:"text/csv"}),n=document.createElement("a");n.href=window.URL.createObjectURL(e),n.download="transactions.csv",n.click()},sortBy(t){"date"===t?this.transactions.sort(((e,n)=>new Date(e[t]).getTime()>new Date(n[t]).getTime()?-1:new Date(e[t]).getTime()<new Date(n[t]).getTime()?1:0)):this.transactions.sort(((e,n)=>e[t]<n[t]?-1:e[t]>n[t]?1:0))},previousPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<Math.ceil(this.transactions.length/this.perPage)&&this.currentPage++}}},w=n(89);const m=(0,w.Z)(h,[["render",p]]);var g=m},8148:function(t,e,n){var a=n(9242),i=n(2451),l=n(2483),r=n(2569);const o=[{path:"/transactions",name:"transactions",props:!0,component:r.Z},{path:"/",name:"home",component:()=>Promise.resolve().then(n.bind(n,2451))}],s=(0,l.p7)({history:(0,l.PO)(),routes:o});var c=s;(0,a.ri)(i["default"]).use(c).mount("#app")}},e={};function n(a){var i=e[a];if(void 0!==i)return i.exports;var l=e[a]={exports:{}};return t[a].call(l.exports,l,l.exports,n),l.exports}n.m=t,function(){var t=[];n.O=function(e,a,i,l){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],i=t[u][1],l=t[u][2];for(var o=!0,s=0;s<a.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((function(t){return n.O[t](a[s])}))?a.splice(s--,1):(o=!1,l<r&&(r=l));if(o){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}l=l||0;for(var u=t.length;u>0&&t[u-1][2]>l;u--)t[u]=t[u-1];t[u]=[a,i,l]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,l,r=a[0],o=a[1],s=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(s)var u=s(n)}for(e&&e(a);c<r.length;c++)l=r[c],n.o(t,l)&&t[l]&&t[l][0](),t[l]=0;return n.O(u)},a=self["webpackChunkclient"]=self["webpackChunkclient"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8148)}));a=n.O(a)})();
//# sourceMappingURL=app.3155cadc.js.map